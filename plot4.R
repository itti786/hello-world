png("C:\\Users\\Deepali Singh\\Desktop\\Coursera\\plot4.png",width=480,height=480)
plot4 <- read.table("household_power_consumption.txt", header = T, sep = ";")
df1 <- as.data.frame(plot4[66637:69516,1])
df2 <- as.data.frame(plot4[66637:69516,2])
df3 <- as.data.frame(plot4[66637:69516,3])
df4 <- as.data.frame(plot4[66637:69516,4])
df5 <- as.data.frame(plot4[66637:69516,5])
df6 <- as.data.frame(plot4[66637:69516,6])
df7 <- as.data.frame(plot4[66637:69516,7])
df8 <- as.data.frame(plot4[66637:69516,8])
df9 <- as.data.frame(plot4[66637:69516,9])
df <- cbind(df1,df2,df3,df4,df5,df6,df7,df8,df9)
colnames(df) <- c("date","time","global_active_power","global_reactive_power","voltage","global_intensity","sub_metering_1","sub_metering_2","sub_metering_3")
library(tidyr)
unite <- unite(df,datetime,c(date,time),sep="")
mytime <- as.POSIXct(unite$datetime,format="%d/%m/%Y%H:%M:%S")
par(mfrow=c(2,2))
plot(mytime,df$global_active_power,type="l",xlab="",ylab="Global Active Power", yaxt = "n")
a <- c(0,1000,2000,3000)
axis(2,at=a,labels=c(0,2,4,6))
plot(mytime,df$voltage,type="l",xlab="datetime",ylab="voltage",yaxt="n")
b<- c(1000,1400,1800,2200)
axis(2,at=b,labels=c(234,238,242,246))
plot(mytime,df$sub_metering_1,yaxt="n",type="l",xlab="",ylab="Energy sub metering")
lines(mytime,df$sub_metering_2,col="red")
lines(mytime,df$sub_metering_3,col="blue")
a <- c(0,10,20,30)
axis(2,at=a,labels=a)
legend("topright",legend=c("Sub_metering_1","Sub_metering_2","Sub_metering_3"),lty=1,col=c("black","red","blue"))
plot(mytime,df$global_reactive_power,type="l",xlab="datetime",ylab="Global_reactive_power",yaxt="n")
c <- c(0,50,100,150,200,250)
axis(2,at=c,labels=c(0.0,0.1,0.2,0.3,0.4,0.5))
dev.off()

